<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>双页面滚动缩放页面</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body,
        html {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        .split {
            width: 100%;
            height: 50%;
            overflow: auto;
            transform-origin: center;
            touch-action: none;
        }

        .container {
            height: 200%; /* Makes scaling look more obvious */
        }
    </style>
</head>

<body>
    <div id="top" class="split">
        <div class="container">
            <!-- 在这里粘贴top.html的代码 -->
            <p><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>唐诗十首</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .poem {
            margin-bottom: 40px;
        }
        .title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .author {
            font-style: italic;
            margin-bottom: 5px;
        }
        .content {
            white-space: pre-wrap;
            margin-bottom: 20px;
        }
        .poem img {
            max-width: 100%;
            height: auto;
        }
        #zoom-controls {
            margin-bottom: 20px;
        }
        button {
            margin-right: 10px;
            padding: 5px 10px;
        }
    </style>
</head>
<body>

    <h1>唐诗十首</h1>

    <div id="zoom-controls">
        <button onclick="zoomIn()">放大</button>
        <button onclick="zoomOut()">缩小</button>
    </div>

    <div class="poem">
        <div class="title">静夜思</div>
        <div class="author">李白</div>
        <div class="content">床前明月光，<br>疑是地上霜。<br>举头望明月，<br>低头思故乡。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">登鹳雀楼</div>
        <div class="author">王之涣</div>
        <div class="content">白日依山尽，<br>黄河入海流。<br>欲穷千里目，<br>更上一层楼。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">春晓</div>
        <div class="author">孟浩然</div>
        <div class="content">春眠不觉晓，<br>处处闻啼鸟。<br>夜来风雨声，<br>花落知多少。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">鹿柴</div>
        <div class="author">王维</div>
        <div class="content">空山不见人，<br>但闻人语响。<br>返景入深林，<br>复照青苔上。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">黄鹤楼送孟浩然之广陵</div>
        <div class="author">李白</div>
        <div class="content">故人西辞黄鹤楼，<br>烟花三月下扬州。<br>孤帆远影碧空尽，<br>唯见长江天际流。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">送元二使安西</div>
        <div class="author">王维</div>
        <div class="content">渭城朝雨浥轻尘，<br>客舍青青柳色新。<br>劝君更尽一杯酒，<br>西出阳关无故人。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">山居秋暝</div>
        <div class="author">王维</div>
        <div class="content">空山新雨后，<br>天气晚来秋。<br>明月松间照，<br>清泉石上流。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">早发白帝城</div>
        <div class="author">李白</div>
        <div class="content">朝辞白帝彩云间，<br>千里江陵一日还。<br>两岸猿声啼不住，<br>轻舟已过万重山。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">夜泊牛渚怀古</div>
        <div class="author">李白</div>
        <div class="content">牛渚西江夜，<br>青天无片云。<br>登舟望秋月，<br>空忆谢将军。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">闻官军收河南河北</div>
        <div class="author">杜甫</div>
        <div class="content">剑外忽传收蓟北，<br>初闻涕泪满衣裳。<br>却看妻子愁何在，<br>漫卷诗书喜欲狂。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <script>
        let currentFontSize = 16;

        function zoomIn() {
            currentFontSize += 2;
            document.body.style.fontSize = currentFontSize + 'px';
        }

        function zoomOut() {
            currentFontSize = Math.max(10, currentFontSize - 2);
            document.body.style.fontSize = currentFontSize + 'px';
        }
    </script>

</body>
</html></p>
        </div>
    </div>
    <div id="bottom" class="split">
        <div class="container">
            <!-- 在这里粘贴bottom.html的代码 -->
            <p><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>唐诗十首</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .poem {
            margin-bottom: 40px;
        }
        .title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .author {
            font-style: italic;
            margin-bottom: 5px;
        }
        .content {
            white-space: pre-wrap;
            margin-bottom: 20px;
        }
        .poem img {
            max-width: 100%;
            height: auto;
        }
        #zoom-controls {
            margin-bottom: 20px;
        }
        button {
            margin-right: 10px;
            padding: 5px 10px;
        }
    </style>
</head>
<body>

    <h1>唐诗十首</h1>

    <div id="zoom-controls">
        <button onclick="zoomIn()">放大</button>
        <button onclick="zoomOut()">缩小</button>
    </div>

    <div class="poem">
        <div class="title">静夜思</div>
        <div class="author">李白</div>
        <div class="content">床前明月光，<br>疑是地上霜。<br>举头望明月，<br>低头思故乡。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">登鹳雀楼</div>
        <div class="author">王之涣</div>
        <div class="content">白日依山尽，<br>黄河入海流。<br>欲穷千里目，<br>更上一层楼。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">春晓</div>
        <div class="author">孟浩然</div>
        <div class="content">春眠不觉晓，<br>处处闻啼鸟。<br>夜来风雨声，<br>花落知多少。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">鹿柴</div>
        <div class="author">王维</div>
        <div class="content">空山不见人，<br>但闻人语响。<br>返景入深林，<br>复照青苔上。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">黄鹤楼送孟浩然之广陵</div>
        <div class="author">李白</div>
        <div class="content">故人西辞黄鹤楼，<br>烟花三月下扬州。<br>孤帆远影碧空尽，<br>唯见长江天际流。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">送元二使安西</div>
        <div class="author">王维</div>
        <div class="content">渭城朝雨浥轻尘，<br>客舍青青柳色新。<br>劝君更尽一杯酒，<br>西出阳关无故人。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">山居秋暝</div>
        <div class="author">王维</div>
        <div class="content">空山新雨后，<br>天气晚来秋。<br>明月松间照，<br>清泉石上流。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">早发白帝城</div>
        <div class="author">李白</div>
        <div class="content">朝辞白帝彩云间，<br>千里江陵一日还。<br>两岸猿声啼不住，<br>轻舟已过万重山。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">夜泊牛渚怀古</div>
        <div class="author">李白</div>
        <div class="content">牛渚西江夜，<br>青天无片云。<br>登舟望秋月，<br>空忆谢将军。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <div class="poem">
        <div class="title">闻官军收河南河北</div>
        <div class="author">杜甫</div>
        <div class="content">剑外忽传收蓟北，<br>初闻涕泪满衣裳。<br>却看妻子愁何在，<br>漫卷诗书喜欲狂。</div>
        <img src="e.jpg" alt="Image">
    </div>

    <script>
        let currentFontSize = 16;

        function zoomIn() {
            currentFontSize += 2;
            document.body.style.fontSize = currentFontSize + 'px';
        }

        function zoomOut() {
            currentFontSize = Math.max(10, currentFontSize - 2);
            document.body.style.fontSize = currentFontSize + 'px';
        }
    </script>

</body>
</html></p>
        </div>
    </div>

    <script>
        const splits = document.querySelectorAll('.split');

        splits.forEach((split, index) => {
            // 加载滚动位置和缩放比例
            const scrollKey = `scrollPosition_${index}`;
            const scaleKey = `scale_${index}`;

            let lastScroll = parseFloat(localStorage.getItem(scrollKey)) || 0;
            let scale = parseFloat(localStorage.getItem(scaleKey)) || 1;

            split.scrollTop = lastScroll;
            split.style.transform = `scale(${scale})`;

            // 处理单指滚动
            split.addEventListener('scroll', () => {
                localStorage.setItem(scrollKey, split.scrollTop);
            });

            // 处理双指缩放
            let startDistance = null;
            let initialScale = scale;

            split.addEventListener('touchstart', (e) => {
                if (e.touches.length === 2) {
                    startDistance = getDistance(e.touches[0], e.touches[1]);
                    initialScale = scale;
                }
            });

            split.addEventListener('touchmove', (e) => {
                if (e.touches.length === 2) {
                    e.preventDefault();
                    let currentDistance = getDistance(e.touches[0], e.touches[1]);
                    scale = initialScale * (currentDistance / startDistance);
                    scale = Math.max(0.5, Math.min(3, scale)); // 限制缩放范围 0.5 到 3 倍
                    split.style.transform = `scale(${scale})`;
                    localStorage.setItem(scaleKey, scale);
                }
            });
        });

        function getDistance(touch1, touch2) {
            return Math.sqrt(Math.pow(touch2.pageX - touch1.pageX, 2) + Math.pow(touch2.pageY - touch1.pageY, 2));
        }
    </script>
</body>

</html>
